# QuickFeed - ç®€æ˜“èµ„è®¯ç§»åŠ¨ç«¯

> ä¸€ä¸ªåŸºäº React + Vite çš„ç§»åŠ¨ç«¯èµ„è®¯äº§å“ï¼Œæ”¯æŒå†…å®¹å‘å¸ƒã€æŸ¥çœ‹ä¿®æ”¹ã€ä¿¡æ¯æµæµè§ˆç­‰åŠŸèƒ½

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

QuickFeed æ˜¯ä¸€ä¸ªç®€æ˜“çš„ç§»åŠ¨ç«¯èµ„è®¯åº”ç”¨ï¼Œå®ç°äº†çŸ­å›¾æ–‡å‘å¸ƒã€Feedæµæµè§ˆã€å†…å®¹è¯¦æƒ…æŸ¥çœ‹ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œæ³¨é‡ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¹¶é›†æˆäº† AI èƒ½åŠ›å®ç°æ™ºèƒ½å†…å®¹æ ‡ç­¾è¯†åˆ«å’Œæ¨èã€‚

**å¼€å‘å‘¨æœŸï¼š** 2024.11.15 - 2024.12.10  
**åœ¨çº¿è®¿é—®ï¼š** [å¾…éƒ¨ç½²]  
**æŠ€æœ¯æ–‡æ¡£ï¼š** [é£ä¹¦æ–‡æ¡£é“¾æ¥]

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. ç™»å½•æ³¨å†Œæ¨¡å—
- âœ… ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
- âœ… ç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼ˆJWT é‰´æƒï¼‰
- âœ… é€€å‡ºç™»å½•
- âœ… è·¯ç”±å®ˆå«ï¼ˆæœªç™»å½•è‡ªåŠ¨è·³è½¬ï¼‰

### 2. çŸ­å›¾æ–‡å‘å¸ƒæ¨¡å—
- âœ… çŸ­å›¾æ–‡ç¼–è¾‘å™¨ï¼ˆæ–‡å­— + å›¾ç‰‡ï¼‰
- âœ… å†…å®¹å‘å¸ƒ
- âœ… å·²å‘å¸ƒå†…å®¹çš„äºŒæ¬¡ç¼–è¾‘ä¿®æ”¹
- ğŸš€ **[æŒ‘æˆ˜]** å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ”¯æŒ
- ğŸš€ **[æŒ‘æˆ˜]** è‰ç¨¿è‡ªåŠ¨ä¿å­˜ï¼ˆæ¯30säº‘ç«¯å­˜å‚¨ï¼‰
- ğŸš€ **[æŒ‘æˆ˜]** æ–­ç½‘ç¼–è¾‘ï¼Œè”ç½‘è‡ªåŠ¨åŒæ­¥
- ğŸš€ **[æŒ‘æˆ˜]** AI å†…å®¹æ ‡ç­¾è¯†åˆ«ï¼ˆå‘æ–‡åè‡ªåŠ¨æ‰“æ ‡ç­¾ï¼‰

### 3. å†…å®¹è¯¦æƒ…é¡µæ¨¡å—
- âœ… çŸ­å›¾æ–‡å†…å®¹æŸ¥çœ‹
- âœ… å‘å¸ƒäººã€å‘å¸ƒæ—¶é—´å±•ç¤º
- âœ… æ–‡å­—å’Œå›¾ç‰‡å†…å®¹æ¸²æŸ“
- ğŸš€ **[æŒ‘æˆ˜]** AI ç›¸å…³è¯é¢˜æ¨è
- ğŸš€ **[æŒ‘æˆ˜]** ç‚¹å‡»è¯é¢˜è‡ªåŠ¨å¡«å……åˆ°å‘å¸ƒæ¨¡å—

### 4. Feed æµæ¨¡å—
- âœ… æ‰€æœ‰çŸ­å›¾æ–‡å†…å®¹å±•ç¤º
- âœ… æŒ‰å‘å¸ƒæ—¶é—´æ’åº
- âœ… æ»šåŠ¨åŠ è½½æ›´å¤šï¼ˆç€‘å¸ƒæµ/åˆ—è¡¨ï¼‰
- ğŸš€ **[æŒ‘æˆ˜]** ä¸‹æ‹‰åˆ·æ–°åŠŸèƒ½
- ğŸš€ **[æŒ‘æˆ˜]** æ€§èƒ½ä¼˜åŒ–ï¼ˆLCP < 2.5sï¼Œfps > 55ï¼‰
- ğŸš€ **[æŒ‘æˆ˜]** ç›¸åŒæ ‡ç­¾å†…å®¹æ¨è

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶ï¼š** React 18 + Vite 6
- **è·¯ç”±ï¼š** React Router DOM v6ï¼ˆæ‡’åŠ è½½ + è·¯ç”±å®ˆå«ï¼‰
- **çŠ¶æ€ç®¡ç†ï¼š** Zustandï¼ˆè½»é‡çº§çŠ¶æ€ç®¡ç†ï¼‰
- **UI ç»„ä»¶åº“ï¼š** React-Vantï¼ˆç§»åŠ¨ç«¯ UIï¼‰
- **å›¾æ ‡ï¼š** @react-vant/icons
- **HTTP è¯·æ±‚ï¼š** Axiosï¼ˆè¯·æ±‚æ‹¦æˆª + ä»£ç†ï¼‰
- **æ ·å¼æ–¹æ¡ˆï¼š** 
  - CSS Modulesï¼ˆç»„ä»¶æ ·å¼éš”ç¦»ï¼‰
  - Stylusï¼ˆCSS é¢„å¤„ç†å™¨ï¼‰
  - PostCSS + postcss-pxtoremï¼ˆè‡ªåŠ¨ px è½¬ remï¼‰
- **ç§»åŠ¨ç«¯é€‚é…ï¼š** lib-flexibleï¼ˆrem æ–¹æ¡ˆï¼‰
- **é‰´æƒï¼š** JWTï¼ˆjsonwebtokenï¼‰
- **å·¥å…·åº“ï¼š** mittï¼ˆäº‹ä»¶æ€»çº¿ï¼‰

### AI èƒ½åŠ›
- **æ¨¡å‹é€‰æ‹©ï¼š** è±†åŒ…/DeepSeek/GPT ç­‰ï¼ˆæ”¯æŒä»»æ„æ¨¡å‹åˆ‡æ¢ï¼‰
- **åŠŸèƒ½ï¼š**
  - Chat å¯¹è¯æ¨¡å‹
  - å†…å®¹æ ‡ç­¾è¯†åˆ«
  - ç›¸å…³è¯é¢˜æ¨è
  - æµå¼è¾“å‡º
- **å¹³å°ï¼š** Coze å·¥ä½œæµè°ƒç”¨ / ç«å±±å¼•æ“æ¨¡å‹
- **å‚è€ƒæ–‡æ¡£ï¼š** 
  - [ç«å±±æ–¹èˆŸæ¨¡å‹ä½¿ç”¨](https://www.volcengine.com/docs/82379/1399008)
  - [OpenAI SDK ä½¿ç”¨](https://platform.openai.com/docs/libraries/node-js-library)

### å¼€å‘å·¥å…·
- **æ„å»ºå·¥å…·ï¼š** Vite
- **ä»£ç è§„èŒƒï¼š** ESLint
- **ç‰ˆæœ¬ç®¡ç†ï¼š** Git + GitHub
- **åŒ…ç®¡ç†ï¼š** npm / pnpm

---

## ğŸ“ é¡¹ç›®æ¶æ„

```
quickfeed/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                  # æ¥å£è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ request.js        # axios å°è£…
â”‚   â”‚   â”œâ”€â”€ auth.js           # ç™»å½•æ³¨å†Œæ¥å£
â”‚   â”‚   â”œâ”€â”€ post.js           # å†…å®¹å‘å¸ƒæ¥å£
â”‚   â”‚   â””â”€â”€ feed.js           # Feed æµæ¥å£
â”‚   â”œâ”€â”€ assets/               # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TabBar/           # åº•éƒ¨å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ Toast/            # è‡ªå®šä¹‰ Toast
â”‚   â”‚   â”œâ”€â”€ Loading/          # åŠ è½½ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ pages/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login/            # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ Register/         # æ³¨å†Œé¡µ
â”‚   â”‚   â”œâ”€â”€ Feed/             # Feed æµé¡µ
â”‚   â”‚   â”œâ”€â”€ Publish/          # å‘å¸ƒé¡µ
â”‚   â”‚   â”œâ”€â”€ Detail/           # è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ Profile/          # ä¸ªäººä¸­å¿ƒ
â”‚   â”œâ”€â”€ store/                # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ userStore.js      # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â””â”€â”€ postStore.js      # å†…å®¹çŠ¶æ€
â”‚   â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useTitle.js       # é¡µé¢æ ‡é¢˜
â”‚   â”‚   â”œâ”€â”€ useDebounce.js    # é˜²æŠ–
â”‚   â”‚   â””â”€â”€ useIntersection.js # äº¤å‰è§‚å¯Ÿå™¨
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ eventBus.js       # äº‹ä»¶æ€»çº¿ï¼ˆmittï¼‰
â”‚   â”‚   â”œâ”€â”€ storage.js        # æœ¬åœ°å­˜å‚¨
â”‚   â”‚   â””â”€â”€ llm.js            # AI æ¨¡å‹è°ƒç”¨
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.jsx         # è·¯ç”±è¡¨
â”‚   â”œâ”€â”€ styles/               # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ reset.css         # æ ·å¼é‡ç½®
â”‚   â”‚   â””â”€â”€ common.styl       # é€šç”¨æ ·å¼
â”‚   â”œâ”€â”€ App.jsx               # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx              # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ flexible.js           # ç§»åŠ¨ç«¯é€‚é…
â”œâ”€â”€ public/                   # å…¬å…±èµ„æº
â”œâ”€â”€ .env.local                # ç¯å¢ƒå˜é‡ï¼ˆAPI Keyï¼‰
â”œâ”€â”€ vite.config.js            # Vite é…ç½®
â”œâ”€â”€ postcss.config.js         # PostCSS é…ç½®
â”œâ”€â”€ package.json              # ä¾èµ–é…ç½®
â””â”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0 æˆ– pnpm >= 7.0.0

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone [your-repo-url]
cd quickfeed

# å®‰è£…ä¾èµ–
npm install
# æˆ–
pnpm install
```

### ä¾èµ–åŒ…åˆ—è¡¨

**è¿è¡Œæ—¶ä¾èµ–ï¼š**
```bash
npm install react-router-dom zustand axios react-vant lib-flexible mitt @react-vant/icons
```

**å¼€å‘ä¾èµ–ï¼š**
```bash
npm install -D vite-plugin-svg-icons jsonwebtoken stylus postcss-pxtorem
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# AI æ¨¡å‹ API Key
VITE_AI_API_KEY=your_api_key_here

# åç«¯ API åœ°å€
VITE_API_BASE_URL=http://localhost:3000

# ç«å±±å¼•æ“é…ç½®ï¼ˆå¯é€‰ï¼‰
VITE_VOLC_API_KEY=your_volc_key

# Coze å·¥ä½œæµé…ç½®ï¼ˆå¯é€‰ï¼‰
VITE_COZE_TOKEN=your_coze_token
VITE_COZE_WORKFLOW_ID=your_workflow_id
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

---

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆ

### rem é€‚é…åŸç†

- ä½¿ç”¨ `lib-flexible` åŠ¨æ€è®¾ç½® `html` çš„ `font-size`
- å…¬å¼ï¼š`1rem = å±å¹•å®½åº¦ / 10`
- è®¾è®¡ç¨¿æ ‡å‡†ï¼š750pxï¼ˆiPhone æ ‡å‡†å°ºå¯¸ï¼Œ2å€å±ï¼‰

### px è‡ªåŠ¨è½¬æ¢

é…ç½® `postcss-pxtorem` å®ç° px è‡ªåŠ¨è½¬ remï¼š

**postcss.config.js**
```javascript
export default {
  plugins: {
    'postcss-pxtorem': {
      rootValue: 75,        // è®¾è®¡ç¨¿å®½åº¦ / 10
      propList: ['*'],      // æ‰€æœ‰å±æ€§éƒ½è½¬æ¢
      selectorBlackList: [] // æ’é™¤ä¸éœ€è¦è½¬æ¢çš„ç±»
    }
  }
}
```

### ä½¿ç”¨æ–¹å¼

è®¾è®¡ç¨¿ä¸Šçš„å°ºå¯¸ç›´æ¥é™¤ä»¥ 2 å³å¯ï¼š

```css
/* è®¾è®¡ç¨¿ï¼šå®½åº¦ 750pxï¼Œå…ƒç´ å®½åº¦ 200px */
.box {
  width: 100px;  /* 200 / 2 = 100pxï¼Œä¼šè‡ªåŠ¨è½¬ä¸º rem */
}
```

---

## ğŸ¨ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. è·¯ç”±é…ç½®ä¸æ‡’åŠ è½½

```jsx
import { lazy, Suspense } from 'react'
import { createBrowserRouter } from 'react-router-dom'
import Loading from '@/components/Loading'

const Login = lazy(() => import('@/pages/Login'))
const Feed = lazy(() => import('@/pages/Feed'))

const router = createBrowserRouter([
  {
    path: '/login',
    element: <Suspense fallback={<Loading />}><Login /></Suspense>
  },
  {
    element: <Layout />,  // åµŒå¥—è·¯ç”±
    children: [
      { path: '/', element: <Feed /> },
      { path: '/publish', element: <Publish /> },
      { path: '/detail/:id', element: <Detail /> },
      { path: '/profile', element: <Profile /> }
    ]
  }
])
```

### 2. è·¯ç”±å®ˆå«

```jsx
// åœ¨ Layout ç»„ä»¶ä¸­æ£€æŸ¥ç™»å½•çŠ¶æ€
const Layout = () => {
  const { token } = useUserStore()
  const navigate = useNavigate()
  
  useEffect(() => {
    if (!token) {
      navigate('/login', { replace: true })
    }
  }, [token, navigate])
  
  return (
    <div className="layout">
      <Outlet />
      <TabBar />
    </div>
  )
}
```

### 3. TabBar åº•éƒ¨å¯¼èˆª

```jsx
import { Tabbar } from 'react-vant'
import { HomeO, AddO, UserO } from '@react-vant/icons'

const TabBar = () => {
  const navigate = useNavigate()
  const location = useLocation()
  
  const [active, setActive] = useState('/')
  
  const onChange = (path) => {
    setActive(path)
    navigate(path)
  }
  
  return (
    <Tabbar value={active} onChange={onChange}>
      <Tabbar.Item name="/" icon={<HomeO />}>é¦–é¡µ</Tabbar.Item>
      <Tabbar.Item name="/publish" icon={<AddO />}>å‘å¸ƒ</Tabbar.Item>
      <Tabbar.Item name="/profile" icon={<UserO />}>æˆ‘çš„</Tabbar.Item>
    </Tabbar>
  )
}
```

### 4. ç€‘å¸ƒæµ Feed å®ç°

```jsx
const Feed = () => {
  const [leftImages, setLeftImages] = useState([])
  const [rightImages, setRightImages] = useState([])
  const [page, setPage] = useState(1)
  
  // è®¡ç®—åº”è¯¥åŠ å…¥å“ªä¸€åˆ—
  const addToColumn = (newImages) => {
    newImages.forEach(img => {
      const leftHeight = calcHeight(leftImages)
      const rightHeight = calcHeight(rightImages)
      
      if (leftHeight <= rightHeight) {
        setLeftImages(prev => [...prev, img])
      } else {
        setRightImages(prev => [...prev, img])
      }
    })
  }
  
  // IntersectionObserver ç›‘å¬æ»šåŠ¨åŠ è½½
  useEffect(() => {
    const observer = new IntersectionObserver((entries) => {
      if (entries[0].isIntersecting) {
        loadMore()
      }
    })
    
    const sentinel = document.querySelector('.load-more-sentinel')
    if (sentinel) observer.observe(sentinel)
    
    return () => observer.disconnect()
  }, [])
  
  return (
    <PullRefresh onRefresh={handleRefresh}>
      <div className="feed">
        <div className="column">{leftImages.map(...)}</div>
        <div className="column">{rightImages.map(...)}</div>
      </div>
      <div className="load-more-sentinel" />
    </PullRefresh>
  )
}
```

### 5. Toast ç»„ä»¶å°è£…

åŸºäº mitt äº‹ä»¶æ€»çº¿å®ç°è·¨ç»„ä»¶é€šä¿¡ï¼š

**utils/eventBus.js**
```javascript
import mitt from 'mitt'
export const eventBus = mitt()
```

**components/Toast/index.jsx**
```jsx
import { useEffect, useState } from 'react'
import { eventBus } from '@/utils/eventBus'
import styles from './index.module.css'

const Toast = () => {
  const [visible, setVisible] = useState(false)
  const [message, setMessage] = useState('')
  
  useEffect(() => {
    eventBus.on('toast', ({ message, duration = 2000 }) => {
      setMessage(message)
      setVisible(true)
      
      setTimeout(() => setVisible(false), duration)
    })
    
    return () => eventBus.off('toast')
  }, [])
  
  if (!visible) return null
  
  return (
    <div className={styles.toast}>
      {message}
    </div>
  )
}

export default Toast

// ä½¿ç”¨æ–¹å¼
export const showToast = (options) => {
  eventBus.emit('toast', options)
}
```

### 6. AI èƒ½åŠ›é›†æˆ

**utils/llm.js**
```javascript
import axios from 'axios'

// æŠ½è±¡ chat å‡½æ•°ï¼Œæ”¯æŒå¤šæ¨¡å‹
export const chat = async ({ model = 'deepseek', prompt, apiKey }) => {
  const API_ENDPOINTS = {
    deepseek: 'https://api.deepseek.com/v1/chat/completions',
    doubao: 'https://ark.cn-beijing.volces.com/api/v3/chat/completions',
    gpt: 'https://api.openai.com/v1/chat/completions'
  }
  
  const response = await axios.post(API_ENDPOINTS[model], {
    model: model,
    messages: [{ role: 'user', content: prompt }]
  }, {
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json'
    }
  })
  
  return response.data.choices[0].message.content
}

// å†…å®¹æ ‡ç­¾è¯†åˆ«
export const extractTags = async (content) => {
  return await chat({
    model: 'deepseek',
    prompt: `è¯·æå–ä»¥ä¸‹å†…å®¹çš„3-5ä¸ªæ ‡ç­¾ï¼Œåªè¿”å›æ ‡ç­¾æ•°ç»„ï¼š${content}`,
    apiKey: import.meta.env.VITE_AI_API_KEY
  })
}

// ç›¸å…³è¯é¢˜æ¨è
export const suggestTopics = async (content) => {
  return await chat({
    model: 'deepseek',
    prompt: `æ ¹æ®ä»¥ä¸‹å†…å®¹æ¨è3ä¸ªç›¸å…³è¯é¢˜ï¼š${content}`,
    apiKey: import.meta.env.VITE_AI_API_KEY
  })
}
```

---

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

### 1. ç»„ä»¶ä¼˜åŒ–
```jsx
// React.memo é˜²æ­¢æ— çŠ¶æ€ç»„ä»¶é‡å¤æ¸²æŸ“
const PostCard = React.memo(({ post }) => {
  return <div>{post.title}</div>
})

// useCallback ç¼“å­˜å‡½æ•°å¼•ç”¨
const handleClick = useCallback(() => {
  navigate(`/detail/${post.id}`)
}, [post.id])

// useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const filteredPosts = useMemo(() => {
  return posts.filter(p => p.tags.includes(selectedTag))
}, [posts, selectedTag])
```

### 2. æœç´¢é˜²æŠ–
```javascript
// hooks/useDebounce.js
export const useDebounce = (value, delay) => {
  const [debouncedValue, setDebouncedValue] = useState(value)
  
  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay)
    return () => clearTimeout(timer)
  }, [value, delay])
  
  return debouncedValue
}

// ä½¿ç”¨
const Search = () => {
  const [keyword, setKeyword] = useState('')
  const debouncedKeyword = useDebounce(keyword, 500)
  
  useEffect(() => {
    if (debouncedKeyword) {
      fetchSearchResults(debouncedKeyword)
    }
  }, [debouncedKeyword])
}
```

### 3. å›¾ç‰‡ä¼˜åŒ–
- **æ‡’åŠ è½½ï¼š** ä½¿ç”¨ `IntersectionObserver`
- **å‹ç¼©ä¸Šä¼ ï¼š** ä¸Šä¼ å‰å‹ç¼©å›¾ç‰‡
- **WebP æ ¼å¼ï¼š** ä¼˜å…ˆä½¿ç”¨ WebP

```jsx
// å›¾ç‰‡æ‡’åŠ è½½
useEffect(() => {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target
        img.src = img.dataset.src
        observer.unobserve(img)
      }
    })
  })
  
  document.querySelectorAll('img[data-src]').forEach(img => {
    observer.observe(img)
  })
  
  return () => observer.disconnect()
}, [])
```

### 4. æ€§èƒ½æŒ‡æ ‡
- **LCP (Largest Contentful Paint):** < 2.5s
- **FPS (Frames Per Second):** > 55fps
- **é¦–å±åŠ è½½ï¼š** è·¯ç”±æ‡’åŠ è½½å‡å°‘ä½“ç§¯

---

## ğŸ”§ Vite é…ç½®

### vite.config.js

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import path from 'path'
import { createSvgIconsPlugin } from 'vite-plugin-svg-icons'

export default defineConfig({
  plugins: [
    react(),
    createSvgIconsPlugin({
      iconDirs: [path.resolve(process.cwd(), 'src/assets/icons')],
      symbolId: 'icon-[name]'
    })
  ],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src')
    }
  },
  server: {
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      }
    }
  },
  css: {
    preprocessorOptions: {
      stylus: {
        additionalData: `@import "@/styles/variables.styl"`
      }
    }
  }
})
```

### postcss.config.js

```javascript
export default {
  plugins: {
    'postcss-pxtorem': {
      rootValue: 75,
      propList: ['*'],
      selectorBlackList: [],
      minPixelValue: 2
    }
  }
}
```

---

## ğŸ“ Git æäº¤è§„èŒƒ

éµå¾ª Conventional Commits è§„èŒƒï¼š

```bash
# åŠŸèƒ½å¼€å‘
git commit -m "feat: æ·»åŠ çŸ­å›¾æ–‡å‘å¸ƒåŠŸèƒ½"
git commit -m "feat(feed): å®ç°ç€‘å¸ƒæµå¸ƒå±€"

# Bug ä¿®å¤
git commit -m "fix: ä¿®å¤ Feed æµæ»šåŠ¨åŠ è½½é—®é¢˜"
git commit -m "fix(auth): ä¿®å¤ç™»å½•çŠ¶æ€ä¸¢å¤±"

# æ ·å¼è°ƒæ•´
git commit -m "style: ä¼˜åŒ–è¯¦æƒ…é¡µå¸ƒå±€"

# æ€§èƒ½ä¼˜åŒ–
git commit -m "perf: ä¼˜åŒ–å›¾ç‰‡æ‡’åŠ è½½é€»è¾‘"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–° README éƒ¨ç½²è¯´æ˜"

# é‡æ„
git commit -m "refactor: é‡æ„ AI è°ƒç”¨é€»è¾‘"

# æµ‹è¯•
git commit -m "test: æ·»åŠ ç™»å½•æ¨¡å—å•å…ƒæµ‹è¯•"
```

---

## ğŸŒŸ é¡¹ç›®äº®ç‚¹

### 1. AI æ™ºèƒ½åŒ–
- âœ… å†…å®¹æ ‡ç­¾è‡ªåŠ¨è¯†åˆ«
- âœ… ç›¸å…³è¯é¢˜æ™ºèƒ½æ¨è
- âœ… æ”¯æŒå¤šæ¨¡å‹çµæ´»åˆ‡æ¢ï¼ˆè±†åŒ…/DeepSeek/GPTï¼‰
- âœ… Coze å·¥ä½œæµé›†æˆ
- âœ… æµå¼è¾“å‡ºæ”¯æŒ

### 2. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- âœ… ç§»åŠ¨ç«¯ rem é€‚é…ï¼Œå®Œç¾è¿˜åŸè®¾è®¡ç¨¿
- âœ… è·¯ç”±æ‡’åŠ è½½ + éª¨æ¶å±
- âœ… æœç´¢é˜²æŠ– + useMemo æ€§èƒ½ä¼˜åŒ–
- âœ… ç€‘å¸ƒæµ + å›¾ç‰‡æ‡’åŠ è½½
- âœ… ä¸‹æ‹‰åˆ·æ–° + æ»šåŠ¨åŠ è½½
- âœ… è‰ç¨¿è‡ªåŠ¨ä¿å­˜
- âœ… æ–­ç½‘ç»­ä¼ åŠŸèƒ½

### 3. å·¥ç¨‹åŒ–å®è·µ
- âœ… ç»„ä»¶åŒ–å¼€å‘ï¼ˆå…¬å…±ç»„ä»¶ + é¡µé¢ç»„ä»¶ï¼‰
- âœ… çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
- âœ… è‡ªå®šä¹‰ Hooks å°è£…
- âœ… åŸå­åŒ– CSSï¼ˆæ¨¡å—åŒ– + é€šç”¨ç±»ï¼‰
- âœ… äº‹ä»¶æ€»çº¿è·¨ç»„ä»¶é€šä¿¡
- âœ… è·¯å¾„åˆ«åé…ç½®
- âœ… ç¯å¢ƒå˜é‡ç®¡ç†

### 4. æ€§èƒ½ä¼˜åŒ–
- âœ… React.memo + useCallback é˜²æ­¢é‡å¤æ¸²æŸ“
- âœ… IntersectionObserver å®ç°äº¤å‰è§‚å¯Ÿ
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… é¦–å± LCP < 2.5s
- âœ… æ»šåŠ¨å¸§ç‡ > 55fps

---

## ğŸ› å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 1. é—­åŒ…é™·é˜±
åœ¨äº‹ä»¶å¤„ç†ä¸­å¤šæ¬¡è°ƒç”¨ `setState` å¯èƒ½å¯¼è‡´çŠ¶æ€è¦†ç›–ï¼Œä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š

```javascript
// âŒ é”™è¯¯
setMessages([...messages, newMsg])
setMessages([...messages, anotherMsg])  // ä¼šè¦†ç›–ç¬¬ä¸€æ¬¡çš„æ›´æ–°

// âœ… æ­£ç¡®
setMessages(prev => [...prev, newMsg])
setMessages(prev => [...prev, anotherMsg])
```

### 2. IntersectionObserver å†…å­˜æ³„æ¼
ç»„ä»¶å¸è½½æ—¶è®°å¾—é‡Šæ”¾èµ„æºï¼š

```javascript
useEffect(() => {
  const observer = new IntersectionObserver(callback)
  observer.observe(targetElement)
  
  return () => {
    observer.disconnect()  // æ¸…ç†èµ„æº
  }
}, [])
```

### 3. ç€‘å¸ƒæµé«˜åº¦ä¸å‡
ä½¿ç”¨åŠ¨æ€è®¡ç®—é«˜åº¦ï¼Œè€Œéç®€å•çš„å¥‡å¶åˆ†é…ï¼š

```javascript
// âŒ ä¸å¥½ï¼šå¥‡å¶åˆ†é…å¯èƒ½å¯¼è‡´é«˜åº¦å·®å¼‚å¤§
images.forEach((img, i) => {
  if (i % 2 === 0) leftCol.push(img)
  else rightCol.push(img)
})

// âœ… å¥½ï¼šåˆ¤æ–­å“ªä¸€åˆ—é«˜åº¦æ›´å°
images.forEach(img => {
  const leftHeight = calcHeight(leftCol)
  const rightHeight = calcHeight(rightCol)
  const targetCol = leftHeight < rightHeight ? leftCol : rightCol
  targetCol.push(img)
})
```

### 4. ç§»åŠ¨ç«¯ç‚¹å‡»å»¶è¿Ÿ
ç¦ç”¨åŒå‡»ç¼©æ”¾ï¼š

```html
<!-- index.html -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
```

---

## ğŸ“¦ éƒ¨ç½²

### GitHub Pages éƒ¨ç½²

1. å®‰è£… gh-pagesï¼š
```bash
npm install -D gh-pages
```

2. é…ç½® package.jsonï¼š
```json
{
  "scripts": {
    "predeploy": "npm run build",
    "deploy": "gh-pages -d dist"
  }
}
```

3. éƒ¨ç½²ï¼š
```bash
npm run deploy
```

### Vercel éƒ¨ç½²

1. åœ¨ Vercel ä¸­å¯¼å…¥ GitHub ä»“åº“
2. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Framework Preset:** Vite
   - **Build Command:** `npm run build`
   - **Output Directory:** `dist`
3. æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆ.env.local ä¸­çš„å˜é‡ï¼‰
4. ç‚¹å‡» Deploy

### Netlify éƒ¨ç½²

1. è¿æ¥ GitHub ä»“åº“
2. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - **Build command:** `npm run build`
   - **Publish directory:** `dist`
3. æ·»åŠ ç¯å¢ƒå˜é‡
4. Deploy

---

## ğŸ“Š å¼€å‘è¿›åº¦

### ç¬¬ä¸€å‘¨ï¼ˆ11.15 - 11.21ï¼‰
- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] æŠ€æœ¯æ ˆé€‰å‹
- [x] åŸºç¡€æ¶æ„æ­å»º
- [x] ç™»å½•æ³¨å†Œæ¨¡å—

### ç¬¬äºŒå‘¨ï¼ˆ11.22 - 11.28ï¼‰
- [x] Feed æµé¡µé¢
- [x] çŸ­å›¾æ–‡å‘å¸ƒåŠŸèƒ½
- [ ] å†…å®¹è¯¦æƒ…é¡µ

### ç¬¬ä¸‰å‘¨ï¼ˆ11.29 - 12.05ï¼‰
- [ ] AI èƒ½åŠ›é›†æˆ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æŒ‘æˆ˜åŠŸèƒ½å®ç°

### ç¬¬å››å‘¨ï¼ˆ12.06 - 12.10ï¼‰
- [ ] æµ‹è¯•ä¸ä¿®å¤
- [ ] æ–‡æ¡£å®Œå–„
- [ ] éƒ¨ç½²ä¸Šçº¿

---

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

- **æ¨è¶…ç”·** - æ ¸å¿ƒåŠŸèƒ½å¼€å‘
- **å¢å£«æ°** - AI åŠŸèƒ½é›†æˆ
- **é™ˆç§‹é‘«** - UI/UX ä¼˜åŒ–

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)
- [React Router æ–‡æ¡£](https://reactrouter.com/)
- [Zustand æ–‡æ¡£](https://zustand.docs.pmnd.rs/)
- [React-Vant æ–‡æ¡£](https://react-vant.3lang.dev/)
- [ç«å±±æ–¹èˆŸæ¨¡å‹æ–‡æ¡£](https://www.volcengine.com/docs/82379/1399008)
- [OpenAI SDK æ–‡æ¡£](https://platform.openai.com/docs/libraries/node-js-library)

---

## ğŸ“„ License

MIT License

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

**æœ€åæ›´æ–°æ—¶é—´ï¼š** 2024.11.19
